{"ast":null,"code":"import _defineProperty from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Dzvun\\\\client\\\\src\\\\Components\\\\SignUp\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Segment, Form, Container, Button } from 'semantic-ui-react';\n\nvar req = require('../../helpers/fetch');\n\nvar post = req.post;\nvar get = req.get;\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this));\n    _this.onSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return post('signup', {\n                firstName: _this.state.firstName,\n                lastName: _this.state.lastName,\n                email: _this.state.email,\n                password: _this.state.password\n              }, _this.state.csrf);\n\n            case 2:\n              res = _context.sent;\n\n              if (res.ok) {\n                window.location.reload();\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      password: \"\",\n      csrf: \"\"\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res, csrf;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return get('/get-sess-info/csrf');\n\n              case 2:\n                res = _context2.sent;\n\n                if (!res.ok) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 6;\n                return res.json();\n\n              case 6:\n                csrf = _context2.sent;\n                this.setState({\n                  csrf: csrf.csrfToken\n                });\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"onChange\",\n    value: function onChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        style: {\n          padding: '1em 0em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        hidden: true,\n        name: \"_csrf\",\n        value: this.state.csrf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \" First Name\"), React.createElement(\"input\", {\n        placeholder: \"First Name\",\n        required: true,\n        name: \"firstName\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \" Last Name\"), React.createElement(\"input\", {\n        placeholder: \"First Name\",\n        required: true,\n        name: \"lastName\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \" E-mail \"), React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: \"E-mail\",\n        required: true,\n        name: \"email\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \" Password \"), React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        name: \"password\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Button, {\n        fluid: true,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport default Register;","map":{"version":3,"sources":["C:\\Projects\\Dzvun\\client\\src\\Components\\SignUp\\index.js"],"names":["React","Component","Segment","Form","Container","Button","req","require","post","get","Register","onSubmit","firstName","state","lastName","email","password","csrf","res","ok","window","location","reload","onChange","bind","json","setState","csrfToken","event","target","name","value","padding"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { Segment, Form, Container, Button } from 'semantic-ui-react';\r\n\r\nconst req = require('../../helpers/fetch');\r\nconst post = req.post;\r\nconst get = req.get;\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        csrf: \"\"\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const res = await get('/get-sess-info/csrf');\r\n        if(res.ok){\r\n            const csrf = await res.json();\r\n            this.setState({csrf: csrf.csrfToken});\r\n        }\r\n        \r\n    }\r\n\r\n    onChange(event){\r\n        this.setState({[event.target.name]:  event.target.value})\r\n    }\r\n\r\n    onSubmit = async () => {\r\n        const res = await post('signup', {\r\n                firstName: this.state.firstName,\r\n                lastName: this.state.lastName,\r\n                email: this.state.email,\r\n                password: this.state.password},\r\n                this.state.csrf);\r\n        if(res.ok) {\r\n            window.location.reload();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render () {\r\n        return (\r\n            <Container style={{  padding: '1em 0em' }}>\r\n                <Segment>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Form.Field hidden name='_csrf' value={this.state.csrf} />\r\n                        <Form.Field>\r\n                            <label> First Name</label>\r\n                            <input placeholder='First Name' required name='firstName' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <label> Last Name</label>\r\n                            <input placeholder='First Name' required name='lastName' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <label> E-mail </label>\r\n                            <input type='email' placeholder='E-mail' required name='email' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <label> Password </label>\r\n                            <input type='password' placeholder='Password' required name='password' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <Button fluid type='submit'>Submit</Button>\r\n                        </Form.Field>\r\n                        \r\n                    </Form>\r\n                </Segment>\r\n            </Container>    \r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}