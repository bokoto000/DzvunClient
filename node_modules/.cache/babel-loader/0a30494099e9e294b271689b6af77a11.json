{"ast":null,"code":"import _defineProperty from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Projects\\\\Dzvun\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Projects\\\\Dzvun\\\\client\\\\src\\\\Components\\\\Login\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Segment, Form, Container, Button } from 'semantic-ui-react';\n\nvar req = require('../../helpers/fetch');\n\nvar post = req.post;\nvar get = req.get;\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this));\n    _this.onSubmit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return post('login', {\n                email: _this.state.email,\n                password: _this.state.password\n              }, _this.state.csrf);\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      csrf: \"\"\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var csrf;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return get('/get-sess-info/csrf');\n\n              case 2:\n                csrf = _context2.sent;\n                this.setState({\n                  csrf: csrf.csrfToken\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"onChange\",\n    value: function onChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Container, {\n        style: {\n          padding: '0em 0em'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(Segment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        hidden: true,\n        name: \"_csrf\",\n        value: this.state.csrf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \" E-mail \"), React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: \"E-mail\",\n        required: true,\n        name: \"email\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \" Password \"), React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        required: true,\n        name: \"password\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Button, {\n        fluid: true,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport default Register;","map":{"version":3,"sources":["C:\\Projects\\Dzvun\\client\\src\\Components\\Login\\index.js"],"names":["React","Component","Segment","Form","Container","Button","req","require","post","get","Register","onSubmit","email","state","password","csrf","onChange","bind","setState","csrfToken","event","target","name","value","padding"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { Segment, Form, Container, Button } from 'semantic-ui-react';\r\n\r\nconst req = require('../../helpers/fetch');\r\nconst post = req.post;\r\nconst get = req.get;\r\n\r\nclass Register extends Component {\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n        email: \"\",\r\n        password: \"\",\r\n        csrf: \"\"\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const csrf = await get('/get-sess-info/csrf');\r\n        this.setState({csrf: csrf.csrfToken});\r\n    }\r\n\r\n    onChange(event){\r\n        this.setState({[event.target.name]:  event.target.value})\r\n    }\r\n\r\n    onSubmit = async () => {\r\n        await post('login', {\r\n            email: this.state.email,\r\n            password: this.state.password},\r\n            this.state.csrf)\r\n    }\r\n\r\n\r\n    render () {\r\n        return (\r\n            <Container style={{  padding: '0em 0em' }}>\r\n                <Segment>\r\n                    <Form onSubmit={this.onSubmit}>\r\n                        <Form.Field hidden name='_csrf' value={this.state.csrf} />\r\n                        <Form.Field>\r\n                            <label> E-mail </label>\r\n                            <input type='email' placeholder='E-mail' required name='email' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <label> Password </label>\r\n                            <input type='password' placeholder='Password' required name='password' onChange={this.onChange}></input>\r\n                        </Form.Field>\r\n                        <Form.Field>\r\n                            <Button fluid type='submit'>Submit</Button>\r\n                        </Form.Field>      \r\n                    </Form>\r\n                </Segment>\r\n            </Container>    \r\n        )\r\n    }\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}